@model IdentityDemo.ViewModels.ProfileViewModel
@using Microsoft.AspNetCore.Identity
@inject SignInManager<ApplicationUser> SignInManager

@inject UserManager<ApplicationUser> UserManager
@{
    Layout = "_User_layout";
    int counter = 1;
    ApplicationUser currentUser = await UserManager.GetUserAsync(User);


}
<div class="tab-pane" id="settings">
    <form asp-controller="Account" asp-action="User_profile" method="post" enctype="multipart/form-data" runat="server" class="form-horizontal">
        <input type="hidden" asp-for="UserId" />
        <img id="blah" class="image-preview" src="~/img/users/@currentUser.UserImageName" alt="Preview Image" style="max-width: 100%; max-height: 100px; display: block; margin-top: 10px;" />
        <!-- Image Preview Section -->
        <div class="form-group row">
            <label for="UserImage" class="col-sm-2 col-form-label">User Profile</label>
            <div class="col-sm-10">
                <input asp-for="UserImage" class="form-control-file" accept="image/*" type="file" id="imgInp" name="UserImage" onchange="previewImage(event)" />
                <span asp-validation-for="UserImage" class="text-danger"></span>
            </div>
        </div>
        <div class="form-group row">
            <label asp-for="UserName" class="col-sm-2 col-form-label"></label>
            <div class="col-sm-10">
                <input asp-for="UserName" class="form-control" placeholder="Name">
                <span asp-validation-for="UserName" class="text-danger"></span>
            </div>
        </div>
        <div class="form-group row">
            <label class="col-sm-2 col-form-label">Email</label>
            <div class="col-sm-10">
                <input asp-for="UserEmail" class="form-control" placeholder="Email">
                <span asp-validation-for="UserEmail" class="text-danger"></span>
            </div>
        </div>
        <div class="form-group row">
            <label class="col-sm-2 col-form-label">Phone</label>
            <div class="col-sm-10">
                <input asp-for="UserPhone" class="form-control" placeholder="Phone number">
                <span asp-validation-for="UserPhone" class="text-danger"></span>
            </div>
        </div>
        <div class="form-group row">
            <label class="col-sm-2 col-form-label">Address</label>
            <div class="col-sm-10">
                <input asp-for="Address" class="form-control" placeholder="Address">
                <span asp-validation-for="UserPhone" class="text-danger"></span>
            </div>
        </div>
        <div class="form-group row">
            <div class="offset-sm-2 col-sm-10">
                <button type="submit" class="btn btn-danger">Submit</button>
            </div>
        </div>
    </form>

</div>